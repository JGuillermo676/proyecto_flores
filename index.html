<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Alexandra (Bobis)</title>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(to bottom right, #fff5f8, #fdfdfd);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .card {
    position: relative;
    background: white;
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    padding: 40px;
    max-width: 700px;
    text-align: center;
    overflow: hidden; /* Limita las flores dentro de la tarjeta */
  }

  canvas {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 0;
    pointer-events: none;
  }

  h1 { color: #d86ba3; font-size: 2.5rem; margin-bottom: 10px; }
  h2 { color: #888; font-size: 1.2rem; margin-bottom: 30px; }
  .poem { margin: 30px 0; font-size: 1.05rem; font-style: italic; line-height: 1.8; color: #555; white-space: pre-line; }
  button {
    margin-top: 20px;
    padding: 12px 25px;
    font-size: 1rem;
    background: #d86ba3;
    color: white;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    transition: transform 0.3s, background 0.3s;
  }
  button:hover { background: #c05791; transform: scale(1.05); }
</style>
</head>
<body>

<div class="card">
  <canvas id="flowersCanvas"></canvas>

  <h1>Para Alexandra ðŸŒ¸</h1>
  <h2>Bobis</h2>
  <div class="poem">
Bobis camina segura,
lleva en sus pasos la luz mÃ¡s pura,
con su mirada vence al destino,
todo camino le abre camino.

No hay muro alto que la detenga,
ni sombra frÃ­a que la contenga,
ella es un rÃ­o, fuerte y constante,
voz de esperanza, fuego vibrante.

Con cada reto se hace mÃ¡s fuerte,
no teme nunca a la propia suerte,
su alma brilla, firme y sincera,
Alexandra puede con todo, entera.
  </div>
  <p>ðŸŒ· Con cariÃ±o y gratitud, siempre para ti ðŸŒ·</p>
  <button onclick="alert('Eres increÃ­ble ðŸ’–')">Haz clic aquÃ­</button>
</div>

<script>
const card = document.querySelector(".card");
const canvas = document.getElementById("flowersCanvas");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
  canvas.width = card.clientWidth;
  canvas.height = card.clientHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

const flowerImages = [
  "https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/Yellow_flower_icon.png/64px-Yellow_flower_icon.png",
  "https://upload.wikimedia.org/wikipedia/commons/thumb/1/10/Red_flower_icon.png/64px-Red_flower_icon.png",
  "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Pink_flower_icon.png/64px-Pink_flower_icon.png"
];

let flowers = [];
const mouse = { x: canvas.width/2, y: canvas.height/2 };

canvas.addEventListener("mousemove", e => {
  const rect = canvas.getBoundingClientRect();
  mouse.x = e.clientX - rect.left;
  mouse.y = e.clientY - rect.top;
});

class Flower {
  constructor() {
    this.img = new Image();
    this.img.src = flowerImages[Math.floor(Math.random() * flowerImages.length)];
    this.reset();
  }

  reset() {
    this.x = canvas.width/2 + (Math.random() - 0.5) * 80;
    this.y = canvas.height/2 + (Math.random() - 0.5) * 80;
    this.size = 20 + Math.random() * 30;
    this.speedY = 0.3 + Math.random() * 0.7;
    this.angle = Math.random() * Math.PI * 2;
    this.spin = (Math.random() - 0.5) * 0.02;
    this.amplitude = Math.random() * 10;
    this.freq = 0.01 + Math.random() * 0.02;
    this.originX = this.x;
  }

  update() {
    this.y -= this.speedY;
    this.x = this.originX + Math.sin(this.y * this.freq) * this.amplitude;

    const dx = mouse.x - this.x;
    const dy = mouse.y - this.y;
    const dist = Math.sqrt(dx*dx + dy*dy);
    if(dist < 80){
      this.x -= dx / 60;
      this.y -= dy / 60;
    }

    this.angle += this.spin;

    // Mantener dentro de la tarjeta
    if(this.y < 0) this.reset();
    if(this.x < 0) this.x = 0;
    if(this.x > canvas.width) this.x = canvas.width;
  }

  draw() {
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.rotate(this.angle);
    ctx.drawImage(this.img, -this.size/2, -this.size/2, this.size, this.size);
    ctx.restore();
  }
}

function init() {
  flowers = [];
  for(let i=0; i<30; i++){
    flowers.push(new Flower());
  }
}

function animate() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  flowers.forEach(flower => {
    flower.update();
    flower.draw();
  });
  requestAnimationFrame(animate);
}

init();
animate();
</script>

</body>
</html>
